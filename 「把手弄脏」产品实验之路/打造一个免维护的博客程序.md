第一次接触博客程序是在我初中快毕业的时候，用的是 WordPress，到现在已经将近 10 年。中间用的时间最长的应该是 Emlog 了。后来分别用 PHP 和 Node.js 编写了两个相对基础的用了一段时间，然后转向 Farbox 和后来的 Bitcorn，似乎总是没能坚持下来写一点记录，对自己比较无奈。

## 为什么要「再写一个」
还是为了满足自己的个人需求。针对目前的现有的三个选择：
1. 使用成熟的博客系统自己搭建
    * 优点：有成熟生态，插件丰富，可定制化程度较高
    * 缺点：需要投入服务器费用以及一定精力维护
2. 自己实现一个博客系统
    * 优点：最高程度的可定制化
    * 缺点：需要投入较多精力编写，并需要一定精力维护
3. 使用成熟的 SaaS 服务
    * 优点：无需维护，一步搞定
    * 缺点：可定制化空间很小，会持续依赖单独某一家服务，迁移成本较高

我想要的：
* 可自由定制
* 免维护，专注书写、记录
* 低迁移成本和数据备份成本

怀着对现实的不满和理想主义，还是希望能自己挖坑然后填上。

## 思考实现
### 可自由定制
自己还是始终想折腾一下，总想做一些改进和试验。所以定制的需求摆在这里，另外还是希望学一些新的东西，考虑使用一种不怎么熟悉的语言，刚好新转到的部门也是使用它 -- Python。

### 免维护，专注书写、记录
这里主要考虑的是数据和服务器程序的免维护。之前使用的自建服务依赖的数据服务主要是使用自己或第三方提供的数据库来做支持，最近两三年，使用 Git 相对较多，它的管理系统对于个人的内容记录来说已经是足够使用了，考虑使用 Git 来管理原始数据，使用 Github API 来实现数据的提供。这样也不需要在后台编辑器上面花太多精力，只需要使用平时熟悉的 Markdown 来编写，Git 提价就可以了。并且，还可以保留每一次修改的记录。

服务器的免维护，一方面是部署后的持续维护，一方面是程序的升级迭代更新。先前主要尝试过几种方式：完全的人力劳动（当然是不可取的）、自动化部署和更新脚本、Docker 自动化部署。因为一些私心，还是想尝试一些新的东西，目前看 Lambda 是能够满足现有的需求的，决定优先使用 Lamdba 来实现部署。

### 低迁移成本和数据备份成本
使用 Bitcorn 服务的期间遇到「开会」，至少一周服务不能访问，恰巧网络服务商的服务也挂掉了，微纠结。使用 Git 管理原始数据的好处在于可以随时同步到多个平台，异地备份，多个设备之前也可以轻松同步。

如今我想要的所谓博客系统，我认为无非是一个对我先前保存的文字记录进行渲染的服务。那么，我的迁移成本也就是这个服务的重建成本，极端一些，也可以是这个服务的重写成本。这个成本，应该是极低的，恢复服务基础内容的周期应该小于一天，那么第一次编写最基础功能的时间也应该大约在一到两天左右。


## 快速迭代
2017-11-25

建立了第一版本的服务，所有数据从 Github API 获取。设定 token 认证后，每小时支持 5000 次调用，满足需求。目前的思路是：
```
用户访问 -> 解析对应文件路径 -> 请求 Github 接口 -> 数据预处理 -> 渲染列表 / Markdown 文件内容 -> 渲染模板 -> 返回结果
```

2017-11-26 23:10:37

添加了图片显示的支持，刚好学习了一下 `re` 模块的 `sub` 方法。原来使用 `MarkEditor` 编辑器编辑的日志有点让我郁闷，保存的文件关于图片的内容竟然是 `! [Image] ()` （多加了空格，以便于查看）而非标准的 Markdown 格式。

2017-11-27 22:58:37

目前博客基本可以浏览了，想了一下目前短期内还需要做的几件事情：
* 引入一个成熟的前端样式库，解决基本显示问题
* 写一个转换脚本，修改老数据格式，本地运行
* 修改显示样式：pre 标签手机浏览换行问题
* 优化显示样式：目录列表和文章列表

2017-11-28 23:47:57

更新列表样式，去除比较纠结的圆角，感觉舒服多了。修改图片显示效果，不要超出屏幕宽度。

2017-12-03 01:52:56

更新程序结构，分离出便捷方法，新建用于模板渲染的数据类。对于 Python 的正则方法熟悉了一些。